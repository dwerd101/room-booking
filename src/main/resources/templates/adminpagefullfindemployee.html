<html lang="ru"xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>


    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta charset="UTF-8" />
    <meta name="robots" content="none" />
    <meta name="description" content="Метровагонмаш - производит вагоны метро, дизель поезда, рельсовые автобусы." />
    <meta name="format-detection" content="telephone=no">
    <link
            href="/css/style.css"
            type="text/css" data-template-style="true" rel="stylesheet" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="icon" href="/img/icons/favicon.ico?v=1" type="image/x-icon">
    <title>ВКС</title>


</head>
<body>



<header>
    <nav class="nav ">
        <a href="/" class="nav__logo hidden-sm hidden-xs">
            <img width="223" src="/img/logo_rus.gif" height="41" alt="Метровагонмаш">
        </a>
        <div class="auth-panel">

            <a sec:authorize="isAnonymous()" class="btn btn-outline-secondary" href="/auth/login" role="button">Вход</a>
            <a sec:authorize="isAnonymous()" class="btn btn-outline-secondary" href="/registration">Регистрация</a>
            <a sec:authorize = "isAuthenticated()" class="btn btn-outline-secondary" href="/auth/logout" role="button">Выход</a>
        </div>
    </nav>
</header>


<!--
<div th:if="${employeeList==null}">
-->
<ul class="nav nav-pills ">
    <li class="nav-item">
        <a class="nav-link active"  href="/admin/find-by-param">Сотрудники</a>
    </li>
    <li class="nav-item">
        <a class="nav-link " href="/admin/departments">Департаменты</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="/admin/vscrooms">Комнаты</a>
    </li>
    <li class="nav-item">
        <a class="nav-link" href="#">Записи</a>
    </li>

</ul>


<!--
<div th:if="${employeeList==null}">
-->
<div class="container">
<form action="#" th:action="@{/admin/find-by-param}" th:object="${findProfileView}" method="post">
    <span class="content">
        <table class="table table-striped table-bordered table-responsive-sm text-center">
            <thead>
                <tr>
                    <th>ID</th>
                    <th>NAME</th>
                    <th>SURNAME</th>
                    <th>MIDDLE NAME</th>
                    <th>PHONE</th>
                    <th>EMAIL</th>
                    <th>BANNED</th>
                </tr>

                <tr>
                    <th>
                        <input type="text" size="2" id="findById" th:field="*{id}" style="text-align: center" class="form-control" name="findById">
                    </th>
                    <th>
                        <input type="text" size="2" id="findByName" th:field="*{name}" style="text-align: center" class="form-control" name="findByName">
                    </th>
                    <th>
                        <input type="text" size="2" id="findBySurname" th:field="*{surname}" style="text-align: center" class="form-control" name="findBySurname">
                    </th>
                    <th>
                        <input type="text" size="2" id="findByMiddleName" th:field="*{middleName}" style="text-align: center" class="form-control" name="findByMiddleName">
                    </th>
                    <th>
                        <input type="text" size="2" id="findByPhone" th:field="*{phone}" style="text-align: center"  class="form-control" name="findByPhone">
                    </th>
                    <th>
                        <input type="text" size="2" id="findByEmail" th:field="*{email}" style="text-align: center"  class="form-control" name="findByEmail">
                    </th>
                    <th>
                        <select name="findByBanned" th:field="*{banned}" >
                            <option value=""  >all</option>
                            <option value="true"  >true</option>
                            <option value="false"  >false</option>
                            <!--                    <option selected value="green">НЕ активный</option>-->
                        </select>
                    </th>
                </tr>
            </thead>
        </table>
        <!--
        <input type="text" size="2" id="findBySurname" style="text-align: center" class="form-control" name="findBySurname">
        -->
        <p style="text-align: center" size="10"><input type="submit" class="btn btn-outline-danger"   style="text-align: center; " value="Найти"></p>
    </span>
</form>
</div>
</div>

<div class="container">
<form action="#" th:action="@{/save-user}" method="post">

    <div th:if="${employeeList!=null}">
    <table class="table table-striped table-bordered table-responsive-sm text-center">
        <thead>
            <tr>
                <th>ID</th>
                <th>NAME</th>
                <th>SURNAME</th>
                <th>MIDDLE NAME</th>
                <th>PHONE</th>
                <th>EMAIL</th>
                <th>BANNED</th>
                <th>EDIT</th>
                <th>DELETE</th>
            </tr>

        <tbody>

        <!--    <form method="post" action="/save-user" accept-charset="UTF-8">-->
        <tr th:each="profile : ${employeeList}">
            <td>
                <!--            <label for="id"></label>-->
                <input th:if="${profile.id!= null}" th:value="${profile.id}" type="text" size="2" id="id" style="text-align: center" class="form-control" name="id" readonly/></td>
            <td>
                <input th:if="${profile.name!= null}" th:value="${profile.name}" type="text" size="2" id="name" style="text-align: center" class="form-control" name="name"/>
            </td>
            <td>
                <input th:if="${profile.surname!= null}" th:value="${profile.surname}"  type="text" size="2" id="surname" style="text-align: center" class="form-control" name="surname"/>
            </td>
            <td>  <input th:if="${profile.middleName!= null}" th:value="${profile.middleName}" type="text" size="2" id="middleName" style="text-align: center" class="form-control" name="middleName"></td>
            <td>  <input th:if="${profile.phone!= null}" th:value="${profile.phone}" type="text" size="2" id="phone" style="text-align: center" class="form-control" name="phone" ></td>
            <td>  <input th:if="${profile.email!= null}" th:value="${profile.email}" type="text" size="2" id="email" style="text-align: center" class="form-control" name="email" readonly></td>
            <td>
                <div>
                    <select tabindex="10" name="banned" th:value="${profile.banned}" >
                        <!--<option value="red" th:text="${profile.banned}"></option>-->
                        <option th:value="${profile.banned}" th:text="${profile.banned}" ></option>
                        <option th:value="false" th:if="${profile.banned != false}" >false</option>
                        <option th:value="true" th:if="${profile.banned != true}" >true</option>

                        <!--                    <option selected value="green">НЕ активный</option>-->
                    </select>
                </div>
            </td>
            <td>
                <a th:href="${'/admin/employee/edit/' + profile.id}" class="btn btn-outline-danger">Редактировать</a>
            </td>
            <td>
                <a th:href="${'/admin/employee/delete/' + profile.id}" class="btn btn-outline-danger">Удалить</a>
            </td>
        </tr>
        <!-- </form>-->
        </tbody>
        </thead>

    </table>

    <p style="text-align: center" size="10">

        <input type="submit" class="btn btn-outline-danger"   style="text-align: center; " value="Сохранить">

    </p>

    </div>

    <p style="text-align: center" size="10">
        <a href="/registration" class="btn btn-outline-danger">Добавить сотрудника</a>
    </p>

</form>
</div>

<!--
<div th:if="${employeeList!=null}">
    <div class="container">
        <form action="#" th:action="@{/admin/find-by-surname/}" method="post">

    <span class="content">
       <input type="text" size="2" id="findBySurname1" style="text-align: center" class="form-control" name="findBySurname">
        <p style="text-align: center" size="10"><input type="submit" class="btn btn-outline-danger"   style="text-align: center; " value="Отправить"></p>
    </span>
        </form>
    </div>
</div>
-->

</body>
</html>
